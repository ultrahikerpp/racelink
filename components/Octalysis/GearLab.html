<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è£å‚™å¯¦é©—å®¤ - RaceLink</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+TC:wght@400;700;900&display=swap');

        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Toggle Switch Custom */
    </style>
</head>

<body class="bg-gray-50 dark:bg-slate-950 min-h-screen text-slate-900 dark:text-slate-200 p-8">

    <div class="max-w-7xl mx-auto flex gap-8 h-[800px]">

        <!-- Sidebar Controls -->
        <div
            class="w-1/4 bg-white dark:bg-slate-900 rounded-3xl p-8 border border-gray-200 dark:border-slate-800 shadow-xl flex flex-col justify-between transition-colors duration-300">
            <div>
                <h2 class="text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tighter">è£å‚™å¯¦é©—å®¤</h2>
                <p class="text-xs font-bold text-slate-500 dark:text-slate-500 uppercase tracking-widest mb-10">Gear
                    Laboratory</p>

                <!-- Toggles -->
                <div class="space-y-6">
                    <!-- Toggle 1 -->
                    <div class="flex items-center justify-between group">
                        <span
                            class="font-bold text-slate-500 dark:text-slate-400 group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors">è¿½æ±‚é€Ÿåº¦</span>
                        <label class="toggle-switch relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="toggle-speed" class="sr-only peer"
                                onchange="updateRecommendations()">
                            <div
                                class="w-14 h-8 bg-gray-200 dark:bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-7 after:w-7 after:transition-all peer-checked:bg-cyan-500 shadow-inner">
                            </div>
                        </label>
                    </div>
                    <!-- Toggle 2 -->
                    <div class="flex items-center justify-between group">
                        <span
                            class="font-bold text-slate-500 dark:text-slate-400 group-hover:text-amber-500 transition-colors">æ€•ç†±é«”è³ª</span>
                        <label class="toggle-switch relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="toggle-heat" class="sr-only peer"
                                onchange="updateRecommendations()">
                            <div
                                class="w-14 h-8 bg-gray-200 dark:bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-7 after:w-7 after:transition-all peer-checked:bg-amber-500 shadow-inner">
                            </div>
                        </label>
                    </div>
                    <!-- Toggle 3 -->
                    <div class="flex items-center justify-between group">
                        <span
                            class="font-bold text-slate-500 dark:text-slate-400 group-hover:text-blue-500 transition-colors">å¯èƒ½æœ‰é›¨</span>
                        <label class="toggle-switch relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="toggle-rain" class="sr-only peer"
                                onchange="updateRecommendations()">
                            <div
                                class="w-14 h-8 bg-gray-200 dark:bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-7 after:w-7 after:transition-all peer-checked:bg-blue-600 shadow-inner">
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- AI Bot Status -->
            <div class="bg-gray-100 dark:bg-slate-800 rounded-xl p-4 border border-gray-200 dark:border-slate-700">
                <div class="flex items-center gap-3 mb-2">
                    <div class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></div>
                    <span class="text-xs font-bold text-slate-400 dark:text-slate-400 uppercase">AI Analysis
                        Active</span>
                </div>
                <p id="ai-status" class="text-sm text-slate-600 dark:text-slate-300 font-medium leading-relaxed">
                    æ ¹æ“šæ‚¨ç›®å‰çš„è¨­å®šï¼Œç³»çµ±å»ºè­°å„ªå…ˆè€ƒæ…®é€æ°£æ€§èˆ‡è¼•é‡åŒ–è£å‚™ã€‚
                </p>
            </div>
        </div>

        <!-- Main Display -->
        <div class="flex-1 space-y-6">
            <!-- Card 1: Footwear -->
            <div id="card-shoes"
                class="bg-white dark:bg-slate-900 rounded-3xl p-8 border border-gray-200 dark:border-slate-800 shadow-lg relative overflow-hidden group hover:border-cyan-500/50 transition-all duration-500">
                <div
                    class="absolute right-0 top-0 w-64 h-64 bg-cyan-500/5 rounded-full blur-3xl -mr-16 -mt-16 transition-colors">
                </div>

                <div class="relative z-10 flex justify-between items-start">
                    <div>
                        <div class="text-xs font-bold text-cyan-600 dark:text-cyan-500 mb-2 uppercase tracking-widest">
                            Recommended Footwear</div>
                        <h3 id="shoe-name"
                            class="text-3xl font-black text-slate-900 dark:text-white mb-2 transition-all">Zoom Fly 5
                        </h3>
                        <p id="shoe-desc" class="text-slate-600 dark:text-slate-400 max-w-md">å…¨èƒ½å‹è·‘é‹ï¼Œé©åˆæ—¥å¸¸è¨“ç·´èˆ‡é•·è·é›¢é…é€Ÿè·‘ã€‚</p>
                    </div>
                    <div class="text-5xl opacity-80 group-hover:scale-110 transition-transform duration-500">ğŸ‘Ÿ</div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-6 h-1/2">
                <!-- Card 2: Apparel -->
                <div id="card-apparel"
                    class="bg-white dark:bg-slate-900 rounded-3xl p-8 border border-gray-200 dark:border-slate-800 shadow-lg relative overflow-hidden group hover:border-amber-500/50 transition-all duration-500">
                    <div class="absolute right-0 bottom-0 w-48 h-48 bg-amber-500/5 rounded-full blur-3xl -mr-10 -mb-10">
                    </div>

                    <div class="text-xs font-bold text-amber-600 dark:text-amber-500 mb-2 uppercase tracking-widest">
                        Apparel</div>
                    <h3 id="apparel-name" class="text-2xl font-black text-slate-900 dark:text-white mb-2">æ’æ±—èƒŒå¿ƒ</h3>
                    <p id="apparel-desc" class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">åŸºæœ¬æ¬¾ï¼Œé©åˆå¤§å¤šæ•¸å¤©æ°£ã€‚
                    </p>
                    <div class="absolute bottom-6 right-6 text-4xl group-hover:rotate-12 transition-transform">ğŸ½</div>
                </div>

                <!-- Card 3: Essentials -->
                <div id="card-essentials"
                    class="bg-white dark:bg-slate-900 rounded-3xl p-8 border border-gray-200 dark:border-slate-800 shadow-lg relative overflow-hidden group hover:border-purple-500/50 transition-all duration-500">
                    <div class="absolute left-0 bottom-0 w-48 h-48 bg-purple-500/5 rounded-full blur-3xl -ml-10 -mb-10">
                    </div>

                    <div class="text-xs font-bold text-purple-600 dark:text-purple-500 mb-2 uppercase tracking-widest">
                        Essentials</div>
                    <h3 id="essential-name" class="text-2xl font-black text-slate-900 dark:text-white mb-2">é‹å‹•æ¯›å·¾</h3>
                    <p id="essential-desc" class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">éš¨èº«æ”œå¸¶ï¼Œä¿æŒä¹¾çˆ½ã€‚
                    </p>
                    <div class="absolute bottom-6 right-6 text-4xl group-hover:-translate-y-2 transition-transform">ğŸ§¢
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const gearDatabase = {
            default: {
                shoes: { name: "Zoom Fly 5", desc: "å…¨èƒ½å‹è·‘é‹ï¼Œé©åˆæ—¥å¸¸è¨“ç·´èˆ‡é•·è·é›¢é…é€Ÿè·‘ã€‚" },
                apparel: { name: "æ’æ±—èƒŒå¿ƒ", desc: "è¼•é‡é€æ°£ï¼Œé©åˆå¤§å¤šæ•¸å¤©æ°£æ¢ä»¶ã€‚" },
                essential: { name: "é‹å‹•æ¯›å·¾", desc: "éš¨èº«æ”œå¸¶ï¼Œä¿æŒä¹¾çˆ½ã€‚" },
                ai: "æ ¹æ“šæ‚¨ç›®å‰çš„è¨­å®šï¼Œç³»çµ±å»ºè­°å„ªå…ˆè€ƒæ…®é€æ°£æ€§èˆ‡è¼•é‡åŒ–è£å‚™ã€‚"
            },
            speed: {
                shoes: { name: "Vaporfly 3", desc: "èè‹±ç«¶é€Ÿé‹æ¬¾ï¼Œå…¨æŒç¢³çº–ç¶­æ¿æä¾›æ¥µè‡´æ¨é€²åŠ›ã€‚" },
                apparel: { name: "ç«¶é€ŸèƒŒå¿ƒ", desc: "æ¥µè‡´è¼•é‡åŒ–ï¼Œæ¸›å°‘é¢¨é˜»èˆ‡æ‘©æ“¦ã€‚" },
                essential: { name: "èƒ½é‡è† ", desc: "å¿«é€Ÿè£œå……è‚é†£ï¼Œç¶­æŒé«˜é€ŸçºŒèˆªåŠ›ã€‚" },
                ai: "åµæ¸¬åˆ°ç«¶é€Ÿéœ€æ±‚ï¼šå·²åˆ‡æ›è‡³é«˜æ€§èƒ½è¼•é‡åŒ–é…ç½®ï¼Œå°ˆæ³¨æ–¼æ¨é€²åŠ›èˆ‡èƒ½é‡å›é¥‹ã€‚"
            },
            rain: {
                shoes: { name: "Pegasus 41 GTX", desc: "GORE-TEX é˜²æ°´é‹é¢ï¼ŒæŠ“åœ°åŠ›å¼·ï¼Œé›¨å¤©é¦–é¸ã€‚" },
                apparel: { name: "é˜²æ½‘æ°´é¢¨è¡£", desc: "DWR å¡—å±¤ï¼Œé˜»æ“‹é›¨æ°´åŒæ™‚ä¿æŒé€æ°£ã€‚" },
                essential: { name: "é˜²æ°´å¸½", desc: "é¿å…é›¨æ°´æµå…¥çœ¼ç›ï¼Œä¿æŒè¦–ç·šæ¸…æ™°ã€‚" },
                ai: "å¤©å€™è­¦ç¤ºï¼ˆé›¨å¤©ï¼‰ï¼šå»ºè­°ç©¿è‘—é˜²æ°´èˆ‡é«˜æŠ“åœ°åŠ›è£å‚™ï¼Œæ³¨æ„è·¯é¢æ¿•æ»‘ã€‚"
            },
            hot: {
                shoes: { name: "Streakfly", desc: "æ¥µç°¡è¼•è–„å¤§åº•ï¼Œæœ€å¤§åŒ–æ•£ç†±æ•ˆç‡ã€‚" },
                apparel: { name: "è¶…é€æ°£ç¶²å¸ƒè¡«", desc: "å¤§å­”æ´ç¶²çœ¼è¨­è¨ˆï¼ŒåŠ é€Ÿæ±—æ°´è’¸ç™¼ã€‚" },
                essential: { name: "ç©ºé ‚å¸½", desc: "é®é™½åŒæ™‚ä¿æŒé ­é ‚æ•£ç†±é€šé¢¨ã€‚" },
                ai: "é«˜æº«è­¦ç¤ºï¼šç³»çµ±å·²æœ€ä½³åŒ–ã€æ•£ç†±æ•ˆç‡ã€ï¼Œè«‹æ³¨æ„æ°´åˆ†è£œå……èˆ‡é˜²æ›¬ã€‚"
            }
        };

        function updateRecommendations() {
            const isSpeed = document.getElementById('toggle-speed').checked;
            const isHeat = document.getElementById('toggle-heat').checked;
            const isRain = document.getElementById('toggle-rain').checked;

            let mode = 'default';
            if (isSpeed) mode = 'speed';
            if (isRain) mode = 'rain'; // Rain overrides speed for safety logic demo
            if (isHeat) mode = 'hot';  // Heat overrides all (demo logic)

            // Logic Combination (Simplified)
            // If Speed + Rain -> Maybe Grip + Light? 
            // For Octalysis demo, simple state switching is enough visual feedback.

            const data = gearDatabase[mode];

            // Update DOM with Transitions
            updateText('shoe-name', data.shoes.name);
            updateText('shoe-desc', data.shoes.desc);
            updateText('apparel-name', data.apparel.name);
            updateText('apparel-desc', data.apparel.desc);
            updateText('essential-name', data.essential.name);
            updateText('essential-desc', data.essential.desc);

            const aiStatus = document.getElementById('ai-status');
            aiStatus.style.opacity = '0';
            setTimeout(() => {
                aiStatus.textContent = data.ai;
                aiStatus.style.opacity = '1';
            }, 200);
        }

        function updateText(id, text) {
            const el = document.getElementById(id);
            el.style.opacity = '0';
            setTimeout(() => {
                el.textContent = text;
                el.style.opacity = '1';
            }, 200);
        }

        // Theme Sync Logic
        function setTheme(theme) {
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        }

        window.addEventListener('message', (event) => {
            if (event.data.type === 'theme-change') {
                setTheme(event.data.theme);
            }
        });

        try {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                setTheme('light');
            } else {
                setTheme('dark');
            }
        } catch (e) {
            setTheme('dark');
        }
    </script>
</body>

</html>